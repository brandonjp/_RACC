<!DOCTYPE html>
<!-- saved from url=(0033)http://emberjs.com/documentation/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Ember.js - Documentation</title>
    <meta charset="utf-8">
    <link href="./index_files/site.css" media="screen" rel="stylesheet" type="text/css">
    <link href="./index_files/highlight.css" media="screen" rel="stylesheet" type="text/css">
    <script type="text/javascript" async="" src="./index_files/ga.js"></script><script type="text/javascript" src="./index_files/jquery.min.js"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">
      $(function() {
        $('#logo').on('click', function(evt) {
          if (evt.shiftKey) {
            $('#content-wrapper').toggleClass('grid');
            return false;
          }
        });

        var backToTop = $('#back-to-top');
        var doc = $(document);
        var offset = backToTop.offset();
        var marginTop = 90;
        var showing = false;

        if (backToTop.length) {
          backToTop.on('click', function(evt) {
            $('html,body').animate({scrollTop: 0}, 200);
            return false;
          });

          doc.on('scroll', function() {
            if (!showing && doc.scrollTop() > offset.top+200) {
              showing = true;
              backToTop.css({
                opacity: 1,
                position: 'fixed',
                top: 20,
                left: offset.left
              });
            } else if (showing && doc.scrollTop() <= offset.top+200) {
              showing = false;
              backToTop.css({
                opacity: 0
              });
            }
          });
        }
      });
    </script>
  <meta name="chromesniffer" id="chromesniffer_meta" content="{&quot;Google Analytics&quot;:-1,&quot;jQuery&quot;:&quot;1.7.1&quot;}"><script type="text/javascript" src="chrome-extension://homgcnaoacgigpkkljjjekpignblkeae/detector.js"></script></head>

  <body>
    <div id="header">
      <div id="wrapper">
        <a id="logo" href="http://emberjs.com/">&nbsp;</a>
        <ul id="nav">
          <li><a href="http://emberjs.com/about">about</a></li>
          <li class="active"><a href="http://emberjs.com/documentation">docs</a></li>
		  <li><a href="http://emberjs.com/guides">guides</a></li>
          <li><a href="http://emberjs.com/community">community</a></li>
          <li><a href="http://docs.emberjs.com/">api</a></li>
        </ul>
        <div id="github">
          <a href="https://github.com/emberjs/ember.js"><img src="./index_files/fork-us.png">Fork Us!</a>
        </div>
      </div>
    </div>

    <div id="content-wrapper">
      
        <div id="sidebar">
            <ol><li class="level-2"><a href="http://emberjs.com/documentation/#toc_introduction">Introduction</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_what-is-ember-js">What is Ember.js?</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_how-is-ember-js-different">How is Ember.js Different?</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_ember-js-at-a-glance">Ember.js at a Glance</a></li><li class="level-2"><a href="http://emberjs.com/documentation/#toc_getting-started">Getting Started</a></li><li class="level-2"><a href="http://emberjs.com/documentation/#toc_the-ember-object-model">The Ember Object Model</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_subclassing-classes">Subclassing Classes</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_reopening-classes-and-instances">Reopening Classes and Instances</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_computed-properties-getters">Computed Properties (Getters)</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_computed-properties-setters">Computed Properties (Setters)</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_observers">Observers</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_bindings">Bindings</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_what-do-i-use-when">What Do I Use When?</a></li><li class="level-2"><a href="http://emberjs.com/documentation/#toc_creating-a-namespace">Creating a Namespace</a></li><li class="level-2"><a href="http://emberjs.com/documentation/#toc_describing-your-ui-with-handlebars">Describing Your UI with Handlebars</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_handlebars">Handlebars</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_ember-view">Ember.View</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_handlebars-basics">Handlebars Basics</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_if-else-and-unless">{{#if}}, {{else}}, and {{#unless}}</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_with">{{#with}}</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_binding-element-attributes-with-bindattr">Binding Element Attributes with {{bindAttr}}</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_binding-class-names-with-bindattr">Binding Class Names with {{bindAttr}}</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_handling-events-with-action">Handling Events with {{action}}</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_building-a-view-hierarchy">Building a View Hierarchy</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_view">{{view}}</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_setting-child-view-templates">Setting Child View Templates</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_setting-up-bindings">Setting Up Bindings</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_modifying-a-view-s-html">Modifying a View's HTML</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_displaying-a-list-of-items">Displaying a List of Items</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_writing-custom-helpers">Writing Custom Helpers</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_included-views">Included Views</a></li><li class="level-2"><a href="http://emberjs.com/documentation/#toc_views-in-depth">Views In-Depth</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_handling-events">Handling Events</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_manually-managed-views-with-ember-containerview">Manually Managed Views with Ember.ContainerView</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_render-pipeline">Render Pipeline</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_customizing-the-html-element">Customizing the HTML Element</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_attribute-bindings-on-a-view">Attribute Bindings on a View</a></li><li class="level-2"><a href="http://emberjs.com/documentation/#toc_the-ember-enumerable-api">The Ember Enumerable API</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_what-are-enumerables">What Are Enumerables?</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_enumerables-in-ember">Enumerables in Ember</a></li><li class="level-3"><a href="http://emberjs.com/documentation/#toc_the-enumerable-interface">The Enumerable Interface</a></li></ol>

          <div id="back-to-top" style="position: fixed; top: 20px; left: 242px; opacity: 0; "><a href="http://emberjs.com/documentation/#">â¬† Back to Top</a></div>
        </div>
      
      <div id="content" class="has-sidebar">
        
<div class="chapter" id="introduction">
  <h2 id="toc_introduction">Introduction</h2><h3 id="toc_what-is-ember-js">What is Ember.js?</h3>
<p>Ember is a JavaScript framework for creating ambitious web applications
that eliminates boilerplate and provides a standard application
architecture.</p>
<h4 id="toc_eliminate-boilerplate">Eliminate Boilerplate</h4>
<p>There are some tasks that are common to every web application. For example,
taking data from the server, rendering it to the screen, then updating that
information when it changes.</p>

<p>Since the tools provided to do this by the browser are quite primitive, you
end up writing the same code over and over. Ember.js provides tools that let
you focus on your app instead of writing the same code you've written a hundred
times.</p>

<p>Because we've built dozens of applications ourselves, we've gone beyond the
obvious low-level event-driven abstractions, eliminating much of the
boilerplate associated with propagating changes throughout your application,
and especially into the DOM itself.</p>

<p>To help manage changes in the view, Ember.js comes with a templating engine
that will automatically update the DOM when the underlying objects change.</p>

<p>For a simple example, consider this template of a Person:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>{{person.name}} is {{person.age}}.</pre></td>
</tr></tbody></table>
</div>
<p>As with any templating system, when the template is initially rendered, it
will reflect the current state of the person. To avoid boilerplate, though,
Ember.js will also update the DOM automatically for you if the person's name
or age changes.</p>

<p>You specify your template once, and Ember.js makes sure it's always up to date.</p>
<h4 id="toc_provides-architecture">Provides Architecture</h4>
<p>Since web applications evolved from web pages, which were nothing more than
static documents, browsers give you just enough rope to hang yourself with.</p>

<p>Ember makes it easy to divide your application into models, views, and controllers,
which improves testability, makes code more modular, and helps new developers
on the project quickly understand how everything fits together. The days of
callback spaghetti are over.</p>

<p>Ember also supplies built-in support for state management, so you'll have
a way to describe how your application moves through various nested states
(like signed-out, signed-in, viewing-post, and viewing-comment) out of the box.</p>
<h3 id="toc_how-is-ember-js-different">How is Ember.js Different?</h3>
<p>Traditional web applications make the user to download a new page every time
they interact with the server. This means that every interaction is never faster
than the latency between you and the user, and usually slower. Using AJAX to
replace only parts of the page helps somewhat, but still requires a roundtrip to
your server every time your UI needs to update. And if multiple parts of the
page need to update all at once, most developers just resort to loading the page
over again, since keeping everything in sync is tricky.</p>

<p>Ember.js, like some other modern JavaScript frameworks, works a little differently.
Instead of the majority of your application's logic living on the server, an
Ember.js application downloads everything it needs to run in the initial page
load. That means that while your user is using your app, she never has to load
a new page and your UI responds quickly to their interaction.</p>

<p>One advantage of this architecture is that your web application uses the same
REST API as your native apps or third-party clients. Back-end developers can
focus on building a fast, reliable, and secure API server, and don't have to be
front-end experts, too.</p>
<h3 id="toc_ember-js-at-a-glance">Ember.js at a Glance</h3>
<p>These are the three features that make Ember a joy to use:</p>

<ol>
<li>Bindings</li>
<li>Computed properties</li>
<li>Auto-updating templates</li>
</ol>
<h4 id="toc_bindings">Bindings</h4>
<p>Use bindings to keep properties between two different objects in sync. You just
declare a binding once, and Ember will make sure changes get propagated in either
direction.</p>

<p>Here's how you create a binding between two objects:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre>MyApp.president = Ember.Object.create({
  <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Barack Obama</span><span class="delimiter">"</span></span>
});
MyApp.country = Ember.Object.create({
  <span class="comment">// Ending a property with 'Binding' tells Ember to</span>
  <span class="comment">// create a binding to the presidentName property.</span>
  <span class="key">presidentNameBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">MyApp.president.name</span><span class="delimiter">'</span></span>
});
<span class="comment">// Later, after Ember has resolved bindings...</span>
MyApp.country.get(<span class="string"><span class="delimiter">'</span><span class="content">presidentName</span><span class="delimiter">'</span></span>);
<span class="comment">// "Barack Obama"</span></pre></td>
</tr></tbody></table>
</div>
<p>Bindings allow you to architect your application using the MVC (Model-View-Controller)
pattern, then rest easy knowing that data will always flow correctly from layer to layer.</p>
<h4 id="toc_computed-properties">Computed Properties</h4>
<p>Computed properties allow you to treat a function like a property:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>MyApp.president = Ember.Object.create({
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Barack</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Obama</span><span class="delimiter">"</span></span>,
  <span class="function">fullName</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>) + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>);
  <span class="comment">// Call this flag to mark the function as a property</span>
  }.property()
});
MyApp.president.get(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>);
<span class="comment">// "Barack Obama"</span></pre></td>
</tr></tbody></table>
</div>
<p>Computed properties are useful because they can work with bindings, just
like any other property.</p>

<p>Many computed properties have dependencies on other properties. For example, in the above
example, the <code>fullName</code> property depends on <code>firstName</code> and <code>lastName</code> to determine its value.
You can tell Ember about these dependencies like this:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre>MyApp.president = Ember.Object.create({
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Barack</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Obama</span><span class="delimiter">"</span></span>,
  <span class="function">fullName</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>) + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>);
  <span class="comment">// Tell Ember that this computed property depends on firstName</span>
  <span class="comment">// and lastName</span>
  }.property(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>)
});</pre></td>
</tr></tbody></table>
</div>
<p>Make sure you list these dependencies so Ember knows when to update bindings that connect
to a computed property.</p>
<h4 id="toc_auto-updating-templates">Auto-updating Templates</h4>
<p>Ember uses Handlebars, a semantic templating library. To take data from your JavaScript application
and put it into the DOM, create a <code>&lt;script&gt;</code> tag and put it into your HTML, wherever you'd like the
value to appear:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-handlebars</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="inline">  The President of the United States is {{MyApp.president.fullName}}.</span>
<span class="tag">&lt;/script&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>Here's the best part: templates are bindings-aware. That means that if you ever change the value of
the property that you told us to display, we'll update it for you automatically. And because you've
specified dependencies, changes to <em>those</em> properties are reflected as well.</p>

<p>Hopefully you can see how all three of these powerful tools work together: start with some primitive
properties, then start building up more sophisticated properties and their dependencies using computed
properties. Once you've described the data, you only have to say how it gets displayed once, and Ember
takes care of the rest. It doesn't matter how the underlying data changes, whether from an XHR request
or the user performing an action; your user interface always stays up-to-date. This eliminates entire
categories of edge cases that developers struggle with every day.</p>

</div>
<div class="chapter" id="getting_started">
  <h2 id="toc_getting-started">Getting Started</h2>
<p>Depending on your needs, there are several ways to get started creating your 
first Ember.js app.</p>

<p>If your needs are simple or you're interested in just playing around, you can 
download the Ember.js Starter Kit. The Starter Kit is based on <a href="http://html5boilerplate.com/">HTML5 
Boilerplate</a> and does not require any build tools 
or other dependencies. To begin, download the Starter Kit and unzip it. You can 
edit the Handlebars templates directly inside the <code>index.html</code> file, and the 
Ember.js app itself lives in <code>javascripts/app.js</code>.</p>

<p>For larger apps, you may want to consider using Ruby on Rails. Rails helps you 
manage your source code and other assets, while also providing the REST API 
that your application will talk to.</p>

</div>
<div class="chapter" id="object_model">
  <h2 id="toc_the-ember-object-model">The Ember Object Model</h2>
<p>Ember enhances the simple JavaScript object model to support bindings
and observers, as well as to support a more powerful mixin-based
approach to code sharing.</p>

<p>At its most basic, you create a new Ember class by using the <code>extend</code>
method on <code>Ember.Object</code>.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="function">say</span>: <span class="keyword">function</span>(thing) {
    alert(thing);
 }
});</pre></td>
</tr></tbody></table>
</div>
<p>Once you have built a new class, you can create new instances of the
class by using the <code>create</code> method. Any properties defined on the class
will be available to instances.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> person = Person.create();
person.say(<span class="string"><span class="delimiter">"</span><span class="content">Hello</span><span class="delimiter">"</span></span>) <span class="comment">// alerts "Hello"</span></pre></td>
</tr></tbody></table>
</div>
<p>When creating an instance, you can also add additional properties to the
instance by passing in an object.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> tom = Person.create({
  <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Tom Dale</span><span class="delimiter">"</span></span>,
  <span class="function">helloWorld</span>: <span class="keyword">function</span>() {
    <span class="local-variable">this</span>.say(<span class="string"><span class="delimiter">"</span><span class="content">Hi my name is </span><span class="delimiter">"</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>));
  }
});
tom.helloWorld() <span class="comment">// alerts "Hi my name is Tom Dale"</span></pre></td>
</tr></tbody></table>
</div>
<p>Because of Ember's support for bindings and observers, you will always
access properties using the <code>get</code> method, and set properties using the
<code>set</code> method.</p>

<p>When creating a new instance of an object, you can also override any
properties or methods defined on the class. For instance, in this case,
you could override the <code>say</code> method from the <code>Person</code> class.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> yehuda = Person.create({
  <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Yehuda Katz</span><span class="delimiter">"</span></span>,
  <span class="function">say</span>: <span class="keyword">function</span>(thing) {
    <span class="keyword">var</span> name = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>);
    <span class="local-variable">this</span>._super(name + <span class="string"><span class="delimiter">"</span><span class="content"> says: </span><span class="delimiter">"</span></span> + thing);
  }
});</pre></td>
</tr></tbody></table>
</div>
<p>You can use the <code>_super</code> method on the object (<code>super</code> is a reserved
word in JavaScript) to call the original method you overrode.</p>
<h3 id="toc_subclassing-classes">Subclassing Classes</h3>
<p>You can also create subclasses of classes you create by using the
<code>extend</code> method. In fact, when we created a new class above by calling
<code>extend</code> on <code>Ember.Object</code>, we were <strong>subclassing</strong> <code>Ember.Object</code>.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> LoudPerson = Person.extend({
  <span class="function">say</span>: <span class="keyword">function</span>(thing) {
    <span class="local-variable">this</span>._super(thing.toUpperCase());
  }
});</pre></td>
</tr></tbody></table>
</div>
<p>When subclassing, you can use <code>this._super</code> to invoke methods you are
overriding.</p>
<h3 id="toc_reopening-classes-and-instances">Reopening Classes and Instances</h3>
<p>You don't need to define a class all at once. You can reopen a class and
define new properties using the <code>reopen</code> method.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>Person.reopen({
  <span class="key">isPerson</span>: <span class="predefined-constant">true</span>
});
Person.create().get(<span class="string"><span class="delimiter">'</span><span class="content">isPerson</span><span class="delimiter">'</span></span>) <span class="comment">// true</span></pre></td>
</tr></tbody></table>
</div>
<p>When using <code>reopen</code>, you can also override existing methods and
call <code>this._super</code>.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>Person.reopen({
  <span class="comment">// override `say` to add an ! at the end</span>
  <span class="function">say</span>: <span class="keyword">function</span>(thing) {
    <span class="local-variable">this</span>._super(thing + <span class="string"><span class="delimiter">"</span><span class="content">!</span><span class="delimiter">"</span></span>);
  }
});</pre></td>
</tr></tbody></table>
</div>
<p>As you can see, <code>reopen</code> is used to add properties and methods to an instance.
But when you need to create class method or add the properties to the class itself you can use <code>reopenClass</code>.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>Person.reopenClass({
  <span class="function">createMan</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> Person.create({<span class="key">isMan</span>: <span class="predefined-constant">true</span>})
  }
});
Person.createMan().get(<span class="string"><span class="delimiter">'</span><span class="content">isMan</span><span class="delimiter">'</span></span>) <span class="comment">// true</span></pre></td>
</tr></tbody></table>
</div><h3 id="toc_computed-properties-getters">Computed Properties (Getters)</h3>
<p>Often, you will want a property that is computed based on other
properties. Ember's object model allows you to define computed
properties easily in a normal class definition.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="comment">// these will be supplied by `create`</span>
  <span class="key">firstName</span>: <span class="predefined-constant">null</span>,
  <span class="key">lastName</span>: <span class="predefined-constant">null</span>,
  <span class="function">fullName</span>: <span class="keyword">function</span>() {
    <span class="keyword">var</span> firstName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>);
    <span class="keyword">var</span> lastName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>);
   <span class="keyword">return</span> firstName + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + lastName;
  }.property(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>)
});
<span class="keyword">var</span> tom = Person.create({
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Tom</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Dale</span><span class="delimiter">"</span></span>
});
tom.get(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>) <span class="comment">// "Tom Dale"</span></pre></td>
</tr></tbody></table>
</div>
<p>If you aren't using Ember's prototype extensions, you can use a slightly
more verbose version, wrapping the function in a call to <code>Ember.computed</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="comment">// these will be supplied by `create`</span>
  <span class="key">firstName</span>: <span class="predefined-constant">null</span>,
  <span class="key">lastName</span>: <span class="predefined-constant">null</span>,
  <span class="key">fullName</span>: Ember.computed(<span class="keyword">function</span>() {
    <span class="keyword">var</span> firstName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>);
    <span class="keyword">var</span> lastName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>);
    <span class="keyword">return</span> firstName + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + lastName;
  }).property(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>)
});</pre></td>
</tr></tbody></table>
</div>
<p>The <code>property</code> method defines the function as a computed property, and
defines its dependencies. Those dependencies will come into play later
when we discuss bindings and observers.</p>

<p>When subclassing a class or creating a new instance, you can override
any computed properties.</p>
<h3 id="toc_computed-properties-setters">Computed Properties (Setters)</h3>
<p>You can also define what Ember should do when setting a computed
property. If you try to set a computed property, it will be invoked with
the key and value you want to set it to.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="comment">// these will be supplied by `create`</span>
  <span class="key">firstName</span>: <span class="predefined-constant">null</span>,
  <span class="key">lastName</span>: <span class="predefined-constant">null</span>,
  <span class="key">fullName</span>: Ember.computed(<span class="keyword">function</span>(key, value) {
    <span class="comment">// getter</span>
    <span class="keyword">if</span> (<span class="local-variable">arguments</span>.length === <span class="integer">1</span>) {
      <span class="keyword">var</span> firstName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>);
      <span class="keyword">var</span> lastName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>);
      <span class="keyword">return</span> firstName + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + lastName;
    <span class="comment">// setter</span>
    } <span class="keyword">else</span> {
      <span class="keyword">var</span> name = value.split(<span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span>);
      <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, name[<span class="integer">0</span>]);
      <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>, name[<span class="integer">1</span>]);
      <span class="keyword">return</span> value;
    }
  }).property(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>)
});
<span class="keyword">var</span> person = Person.create();
person.set(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Peter Wagenet</span><span class="delimiter">"</span></span>);
person.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>) <span class="comment">// Peter</span>
person.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>) <span class="comment">// Wagenet</span></pre></td>
</tr></tbody></table>
</div>
<p>Ember will call the computed property for both setters and getters, and
you can check the number of arguments to determine whether it is being called
as a getter or a setter.</p>
<h3 id="toc_observers">Observers</h3>
<p>Ember supports observing any property, including computed properties.
You can set up an observer on an object by using the <code>addObserver</code>
method.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="comment">// these will be supplied by `create`</span>
  <span class="key">firstName</span>: <span class="predefined-constant">null</span>,
  <span class="key">lastName</span>: <span class="predefined-constant">null</span>,
  <span class="key">fullName</span>: Ember.computed(<span class="keyword">function</span>() {
    <span class="keyword">var</span> firstName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>);
    <span class="keyword">var</span> lastName = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>);
    <span class="keyword">return</span> firstName + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + lastName;
  }).property(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>)
});
<span class="keyword">var</span> person = Person.create({
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Yehuda</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Katz</span><span class="delimiter">"</span></span>
});
person.addObserver(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
  <span class="comment">// deal with the change</span>
});
person.set(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Brohuda</span><span class="delimiter">"</span></span>); <span class="comment">// observer will fire</span></pre></td>
</tr></tbody></table>
</div>
<p>Because the <code>fullName</code> computed property depends on <code>firstName</code>,
updating <code>firstName</code> will fire observers on <code>fullName</code> as well.</p>

<p>Because observers are so common, Ember provides a way to define
observers inline in class definitions.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>Person.reopen({
  <span class="function">fullNameChanged</span>: <span class="keyword">function</span>() {
    <span class="comment">// this is an inline version of .addObserver</span>
  }.observes(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>)
});</pre></td>
</tr></tbody></table>
</div>
<p>You can define inline observers by using the <code>Ember.observer</code> method if you
are using Ember without prototype extensions:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>Person.reopen({
  <span class="key">fullNameChanged</span>: Ember.observer(<span class="keyword">function</span>() {
    <span class="comment">// this is an inline version of .addObserver</span>
  }, <span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>)
});</pre></td>
</tr></tbody></table>
</div><h4 id="toc_changes-in-arrays">Changes in Arrays</h4>
<p>Often, you may have a computed property that relies on all of the items in an 
array to determine its value. For example, you may want to count all of the
todo items in a controller to determine how many of them are completed.</p>

<p>Here's what that computed property might look like:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre>App.todosController = Ember.Object.create({
  <span class="key">todos</span>: [
    Ember.Object.create({ <span class="key">isDone</span>: <span class="predefined-constant">false</span> })
  ],
  <span class="function">remaining</span>: <span class="keyword">function</span>() {
    <span class="keyword">var</span> todos = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">todos</span><span class="delimiter">'</span></span>);
    <span class="keyword">return</span> todos.filterProperty(<span class="string"><span class="delimiter">'</span><span class="content">isDone</span><span class="delimiter">'</span></span>, <span class="predefined-constant">false</span>).get(<span class="string"><span class="delimiter">'</span><span class="content">length</span><span class="delimiter">'</span></span>);
  }.property(<span class="string"><span class="delimiter">'</span><span class="content">todos.@each.isDone</span><span class="delimiter">'</span></span>)
});</pre></td>
</tr></tbody></table>
</div>
<p>Note here that the dependent key (<code>todos.@each.isDone</code>) contains the special
key <code>@each</code>. This instructs Ember.js to update bindings and fire observers for
this computed property when one of the following four events occurs:</p>

<ol>
<li>The <code>isDone</code> property of any of the objects in the <code>todos</code> array changes.</li>
<li>An item is added to the <code>todos</code> array.</li>
<li>An item is removed from the <code>todos</code> array.</li>
<li>The <code>todos</code> property of the controller is changed to a different array.</li>
</ol>

<p>In the example above, the <code>remaining</code> count is <code>1</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre>App.todosController.get(<span class="string"><span class="delimiter">'</span><span class="content">remaining</span><span class="delimiter">'</span></span>);
<span class="comment">// 1</span></pre></td>
</tr></tbody></table>
</div>
<p>If we change the todo's <code>isDone</code> property, the <code>remaining</code> property is updated
automatically:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> todos = App.todosController.get(<span class="string"><span class="delimiter">'</span><span class="content">todos</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> todo = todos.objectAt(<span class="integer">1</span>);
todo.set(<span class="string"><span class="delimiter">'</span><span class="content">isDone</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>);
App.todosController.get(<span class="string"><span class="delimiter">'</span><span class="content">remaining</span><span class="delimiter">'</span></span>);
<span class="comment">// 0</span>
todo = Ember.Object.create({ <span class="key">isDone</span>: <span class="predefined-constant">false</span> });
todos.pushObject(todo);
App.todosController.get(<span class="string"><span class="delimiter">'</span><span class="content">remaining</span><span class="delimiter">'</span></span>);
<span class="comment">// 1</span></pre></td>
</tr></tbody></table>
</div><h3 id="toc_bindings">Bindings</h3>
<p>A binding creates a link between two properties such that when one changes, the
other one is updated to the new value automatically. Bindings can connect
properties on the same object, or across two different objects. Unlike most other
frameworks that include some sort of binding implementation, bindings in
Ember.js can be used with any object, not just between views and models.</p>

<p>The easiest way to create a two-way binding is by creating a new property
with the string <code>Binding</code> at the end, then specifying a path from the global scope:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>App.wife = Ember.Object.create({
  <span class="key">householdIncome</span>: <span class="integer">80000</span>
});
App.husband = Ember.Object.create({
  <span class="key">householdIncomeBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">App.wife.householdIncome</span><span class="delimiter">'</span></span>
});
App.husband.get(<span class="string"><span class="delimiter">'</span><span class="content">householdIncome</span><span class="delimiter">'</span></span>); <span class="comment">// 80000</span>
<span class="comment">// Someone gets raise.</span>
App.husband.set(<span class="string"><span class="delimiter">'</span><span class="content">householdIncome</span><span class="delimiter">'</span></span>, <span class="integer">90000</span>);
App.wife.get(<span class="string"><span class="delimiter">'</span><span class="content">householdIncome</span><span class="delimiter">'</span></span>); <span class="comment">// 90000</span></pre></td>
</tr></tbody></table>
</div>
<p>Note that bindings don't update immediately. Ember waits until all of your
application code has finished running before synchronizing changes, so you can
change a bound property as many times as you'd like without worrying about the
overhead of syncing bindings when values are transient.</p>
<h4 id="toc_one-way-bindings">One-Way Bindings</h4>
<p>A one-way binding only propagates changes in one direction. Usually, one-way
bindings are just a performance optimization and you can safely use
the more concise two-way binding syntax (as, of course, two-way bindings are
de facto one-way bindings if you only ever change one side).</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td>
  <td class="code"><pre>App.user = Ember.Object.create({
  <span class="key">fullName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Kara Gates</span><span class="delimiter">"</span></span>
});
App.userView = Ember.View.create({
  <span class="key">userNameBinding</span>: Ember.Binding.oneWay(<span class="string"><span class="delimiter">'</span><span class="content">App.user.fullName</span><span class="delimiter">'</span></span>)
});
<span class="comment">// Changing the name of the user object changes</span>
<span class="comment">// the value on the view.</span>
App.user.set(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Krang Gates</span><span class="delimiter">"</span></span>);
<span class="comment">// App.userView.userName will become "Krang Gates"</span>
<span class="comment">// ...but changes to the view don't make it back to</span>
<span class="comment">// the object.</span>
App.userView.set(<span class="string"><span class="delimiter">'</span><span class="content">userName</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Truckasaurus Gates</span><span class="delimiter">"</span></span>);
App.user.get(<span class="string"><span class="delimiter">'</span><span class="content">fullName</span><span class="delimiter">'</span></span>); <span class="comment">// "Krang Gates"</span></pre></td>
</tr></tbody></table>
</div><h3 id="toc_what-do-i-use-when">What Do I Use When?</h3>
<p>Sometimes new users are confused about when to use computed properties,
bindings and observers. Here are some guidelines to help:</p>

<ol>
<li><p>Use <em>computed properties</em> to build a new property by synthesizing other
properties. Computed properties should not contain application behavior, and
should generally not cause any side-effects when called. Except in rare cases,
multiple calls to the same computed property should always return the same
value (unless the properties it depends on have changed, of course.)</p></li>
<li><p><em>Observers</em> should contain behavior that reacts to changes in another
property. Observers are especially useful when you need to perform some
behavior after a binding has finished synchronizing.</p></li>
<li><p><em>Bindings</em> are most often used to ensure objects in two different layers
are always in sync. For example, you bind your views to your controller using
Handlebars. You may often bind between two objects in the same layer. For
example, you might have an <code>App.selectedContactController</code> that binds to the
<code>selectedContact</code> property of <code>App.contactsController</code>.</p></li>
</ol>

</div>
<div class="chapter" id="application">
  <h2 id="toc_creating-a-namespace">Creating a Namespace</h2>
<p>Every Ember app should have an instance of <code>Ember.Application</code>. This object
will serve as the globally-accessible namespace for all of the other classes
and instances in your app. Additionally, it sets up event listeners on the page
so that your views receive events when users interact with your user interface
(which you'll learn about later.)</p>

<p>Here's an example of an application:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>window.App = Ember.Application.create();</pre></td>
</tr></tbody></table>
</div>
<p>You can call your namespace whatever you'd like, but it must begin
with a capital letter in order for bindings to find it.</p>

<p>If you are embedding an Ember application into an existing site, you can
have event listeners set up for a specific element by providing a <code>rootElement</code> property:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>window.App = Ember.Application.create({
  <span class="key">rootElement</span>: <span class="string"><span class="delimiter">'</span><span class="content">#sidebar</span><span class="delimiter">'</span></span>
});</pre></td>
</tr></tbody></table>
</div>
</div>
<div class="chapter" id="handlebars">
  <h2 id="toc_describing-your-ui-with-handlebars">Describing Your UI with Handlebars</h2><h3 id="toc_handlebars">Handlebars</h3>
<p>Ember comes bundled with <a href="http://www.handlebarsjs.com/">Handlebars</a>, a semantic templating language. These templates look like regular HTML, with embedded expressions.</p>

<p>You should store your Handlebars templates inside your application's HTML file. At runtime, Ember will compile these templates so they are available for you to use in your views.</p>

<p>To immediately insert a template into your document, place it inside a <code>&lt;script&gt;</code> tag within your <code>&lt;body&gt;</code> tag:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="tag">&lt;html&gt;</span>
  <span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-handlebars</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="inline">      Hello, <span class="tag">&lt;b&gt;</span>{{MyApp.name}}<span class="tag">&lt;/b&gt;</span></span>
    <span class="tag">&lt;/script&gt;</span>
  <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>To make a template available to be used later, give the <code>&lt;script&gt;</code> tag a <code>data-template-name</code> attribute:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="tag">&lt;html&gt;</span>
  <span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-handlebars</span><span class="delimiter">"</span></span> <span class="attribute-name">data-template-name</span>=<span class="string"><span class="delimiter">"</span><span class="content">say-hello</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="inline">      Hello, <span class="tag">&lt;b&gt;</span>{{MyApp.name}}<span class="tag">&lt;/b&gt;</span></span>
    <span class="tag">&lt;/script&gt;</span>
  <span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;/html&gt;</span></pre></td>
</tr></tbody></table>
</div><h3 id="toc_ember-view">Ember.View</h3>
<p>You can use <code>Ember.View</code> to render a Handlebars template and insert it into the DOM.</p>

<p>To tell the view which template to use, set its <code>templateName</code> property. For example, if I had a <code>&lt;script&gt;</code> tag like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="tag">&lt;html&gt;</span>
  <span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-handlebars</span><span class="delimiter">"</span></span> <span class="attribute-name">data-template-name</span>=<span class="string"><span class="delimiter">"</span><span class="content">say-hello</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="inline">      Hello, <span class="tag">&lt;b&gt;</span>{{name}}<span class="tag">&lt;/b&gt;</span></span>
    <span class="tag">&lt;/script&gt;</span>
  <span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;/html&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>I would set the <code>templateName</code> property to <code>"say-hello"</code>.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> view = Ember.View.create({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">say-hello</span><span class="delimiter">'</span></span>,
  <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Bob</span><span class="delimiter">"</span></span>
});</pre></td>
</tr></tbody></table>
</div>
<p>Note: For the remainder of the guide, the <code>templateName</code> property will be omitted from most examples. You can assume that if we show a code sample that includes an Ember.View and a Handlebars template, the view has been configured to display that template via the <code>templateName</code> property.</p>

<p>You can append views to the document by calling <code>appendTo</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>  view.appendTo(<span class="string"><span class="delimiter">'</span><span class="content">#container</span><span class="delimiter">'</span></span>);</pre></td>
</tr></tbody></table>
</div>
<p>As a shorthand, you can append a view to the document body by calling <code>append</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>  view.append();</pre></td>
</tr></tbody></table>
</div>
<p>To remove a view from the document, call <code>remove</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>  view.remove();</pre></td>
</tr></tbody></table>
</div><h3 id="toc_handlebars-basics">Handlebars Basics</h3>
<p>As you've already seen, you can print the value of a property by enclosing it in a Handlebars expression, or a series of braces, like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>My new car is {{color}}.</pre></td>
</tr></tbody></table>
</div>
<p>This will look up and print the View's <code>color</code> property. For example, if your view looks like this:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>App.CarView = Ember.View.extend({
  <span class="key">color</span>: <span class="string"><span class="delimiter">'</span><span class="content">blue</span><span class="delimiter">'</span></span>
});</pre></td>
</tr></tbody></table>
</div>
<p>Your view would appear in the browser like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>My new car is blue.</pre></td>
</tr></tbody></table>
</div>
<p>You can also specify global paths:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>My new car is {{App.carController.color}}.</pre></td>
</tr></tbody></table>
</div>
<p>(Ember determines whether a path is global or relative to the view by checking whether the first letter is capitalized,
which is why your <code>Ember.Application</code> instance should start with a capital letter.)</p>

<p>All of the features described in this guide are <strong>bindings aware</strong>. That means that if the values used by your templates ever change, your HTML will be updated automatically. It's like magic.</p>

<p>In order to know which part of your HTML to update when an underlying property changes, Handlebars will insert marker elements with a unique ID. If you look at your application while it's running, you might notice these extra elements:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>My new car is
<span class="tag">&lt;script</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">metamorph-0-start</span><span class="delimiter">"</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-placeholder</span><span class="delimiter">"</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>
blue
<span class="tag">&lt;script</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">metamorph-0-end</span><span class="delimiter">"</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-placeholder</span><span class="delimiter">"</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>.</pre></td>
</tr></tbody></table>
</div>
<p>Because all Handlebars expressions are wrapped in these markers, make sure each HTML tag stays inside the same block. For example, you shouldn't do this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre><span class="comment">&lt;!-- Don't do it! --&gt;</span>
<span class="tag">&lt;div</span> <span class="error">{</span><span class="error">{</span><span class="error">#</span><span class="attribute-name">if</span> <span class="error">}</span><span class="error">}</span><span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">urgent</span><span class="delimiter">"</span></span><span class="error">{</span><span class="error">{</span><span class="error">/</span><span class="attribute-name">if</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>If you want to avoid your property output getting wrapped in these markers, use the <code>unbound</code> helper:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>My new car is {{unbound color}}.</pre></td>
</tr></tbody></table>
</div>
<p>Your output will be free of markers, but be careful, because the output won't be automatically updated!</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>My new car is blue.</pre></td>
</tr></tbody></table>
</div><h3 id="toc_if-else-and-unless">{{#if}}, {{else}}, and {{#unless}}</h3>
<p>Sometimes you may only want to display part of your template if a property
exists. For example, let's say we have a view with a <code>person</code> property that
contains an object with <code>firstName</code> and <code>lastName</code> fields:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>App.SayHelloView = Ember.View.extend({
  <span class="key">person</span>: Ember.Object.create({
    <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Joy</span><span class="delimiter">"</span></span>,
    <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Clojure</span><span class="delimiter">"</span></span>
  })
});</pre></td>
</tr></tbody></table>
</div>
<p>In order to display part of the template only if the <code>person</code> object exists, we
can use the <code>{{#if}}</code> helper to conditionally render a block:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{#if person}}
  Welcome back, <span class="tag">&lt;b&gt;</span>{{person.firstName}} {{person.lastName}}<span class="tag">&lt;/b&gt;</span>!
{{/if}}</pre></td>
</tr></tbody></table>
</div>
<p>Handlebars will not render the block if the argument passed evaluates to
<code>false</code>, <code>undefined</code>, <code>null</code> or <code>[]</code> (i.e., any "falsy" value).</p>

<p>If the expression evaluates to falsy, we can also display an alternate template
using <code>{{else}}</code>:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>{{#if person}}
  Welcome back, <span class="tag">&lt;b&gt;</span>{{person.firstName}} {{person.lastName}}<span class="tag">&lt;/b&gt;</span>!
{{else}}
  Please log in.
{{/if}}</pre></td>
</tr></tbody></table>
</div>
<p>To only render a block if a value is falsy, use <code>{{#unless}}</code>:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{#unless hasPaid}}
  You owe: ${{total}}
{{/unless}}</pre></td>
</tr></tbody></table>
</div>
<p><code>{{#if}}</code> and <code>{{#unless}}</code> are examples of block expressions. These allow you
to invoke a helper with a portion of your template. Block expressions look like
normal expressions except that they contain a hash (#) before the helper name,
and require a closing expression.</p>
<h3 id="toc_with">{{#with}}</h3>
<p>Sometimes you may want to invoke a section of your template with a context
different than the Ember.View. For example, we can clean up the above template by
using the <code>{{#with}}</code> helper:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{#with person}}
  Welcome back, <span class="tag">&lt;b&gt;</span>{{firstName}} {{lastName}}<span class="tag">&lt;/b&gt;</span>!
{{/with}}</pre></td>
</tr></tbody></table>
</div>
<p><code>{{#with}}</code> changes the <em>context</em> of the block you pass to it. The context
is the object on which properties are looked up. By default, the context is the
Ember.View to which the template belongs.</p>
<h3 id="toc_binding-element-attributes-with-bindattr">Binding Element Attributes with {{bindAttr}}</h3>
<p>In addition to text, you may also want your templates to dictate the attributes
of your HTML elements. For example, imagine a view that contains a URL:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>App.LogoView = Ember.View.extend({
  <span class="key">logoUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">http://www.mycorp.com/images/logo.png</span><span class="delimiter">'</span></span>
});</pre></td>
</tr></tbody></table>
</div>
<p>The best way to display the URL as an image in Handlebars is like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">logo</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">bindAttr</span> <span class="error">=</span><span class="error">"</span><span class="attribute-name">logoUrl</span><span class="error">"</span><span class="error">}</span><span class="error">}</span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">"</span><span class="content">Logo</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>This generates the following HTML:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">logo</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.mycorp.com/images/logo.png</span><span class="delimiter">"</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">"</span><span class="content">Logo</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>If you use <code>{{bindAttr}}</code> with a Boolean value, it will add or remove the specified attribute. For example, given this Ember view:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>App.InputView = Ember.View.extend({
  <span class="key">isDisabled</span>: <span class="predefined-constant">true</span>
});</pre></td>
</tr></tbody></table>
</div>
<p>And this template:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">checkbox</span><span class="delimiter">"</span></span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">bindAttr</span> <span class="error">=</span><span class="error">"</span><span class="attribute-name">isDisabled</span><span class="error">"</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>Handlebars will produce the following HTML element:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">checkbox</span><span class="delimiter">"</span></span> <span class="attribute-name">disabled</span></pre></td>
</tr></tbody></table>
</div><h3 id="toc_binding-class-names-with-bindattr">Binding Class Names with {{bindAttr}}</h3>
<p>The <code>class</code> attribute can be bound like any other attribute, but it also has some additional special behavior. The default behavior works like you'd expect:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>App.AlertView = Ember.View.extend({
  <span class="key">priority</span>: <span class="string"><span class="delimiter">"</span><span class="content">p4</span><span class="delimiter">"</span></span>,
  <span class="key">isUrgent</span>: <span class="predefined-constant">true</span>
});</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">bindAttr</span> <span class="error">=</span><span class="error">"</span><span class="attribute-name">priority</span><span class="error">"</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>
  Warning!
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>This template will emit the following HTML:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">p4</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  Warning!
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>If the value to which you bind is a Boolean, however, the dasherized version of that property will be applied as a class:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">bindAttr</span> <span class="error">=</span><span class="error">"</span><span class="attribute-name">isUrgent</span><span class="error">"</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>
  Warning!
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>This emits the following HTML:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">is-urgent</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
  Warning!
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>Unlike other attributes, you can also bind multiple classes:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">bindAttr</span> <span class="error">=</span><span class="error">"</span><span class="attribute-name">isUrgent</span> <span class="error">"</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>
  Warning!
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>You can also specify an alternate class name to use, instead of just
dasherizing.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">bindAttr</span> <span class="error">=</span><span class="error">"</span><span class="attribute-name">isUrgent:urgent</span><span class="error">"</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>
  Warning!
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>In this case, if the <code>isUrgent</code> property is true, the <code>urgent</code> class
will be added. If it is false, the <code>urgent</code> class will be removed.</p>
<h3 id="toc_handling-events-with-action">Handling Events with {{action}}</h3>
<p>Use the <code>{{action}}</code> helper to attach a handler in your view class to an event triggered on an element.</p>

<p>To attach an element's <code>click</code> event to the <code>edit()</code> handler in the current view:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">#</span><span class="delimiter">"</span></span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">action</span> <span class="error">"</span><span class="attribute-name">edit</span><span class="error">"</span> <span class="attribute-name">on</span>=<span class="string"><span class="delimiter">"</span><span class="content">click</span><span class="delimiter">"</span></span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>Edit<span class="tag">&lt;/a&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>Because the default event is <code>click</code>, this could be written more concisely as:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">#</span><span class="delimiter">"</span></span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">action</span> <span class="error">"</span><span class="attribute-name">edit</span><span class="error">"</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>Edit<span class="tag">&lt;/a&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>Although the view containing the <code>{{action}}</code> helper will be targeted by default, it is possible to target a different view:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">#</span><span class="delimiter">"</span></span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">action</span> <span class="error">"</span><span class="attribute-name">edit</span><span class="error">"</span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">"</span><span class="content">parentView</span><span class="delimiter">"</span></span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>Edit<span class="tag">&lt;/a&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>The action handler can optionally accept a jQuery event object, which will be extended to include <code>view</code> and <code>context</code> properties. These properties can be useful when targeting a different view with your action. For instance:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>App.ListingView = Ember.View.extend({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">listing</span><span class="delimiter">'</span></span>,
  <span class="function">edit</span>: <span class="keyword">function</span>(event) {
    event.view.set(<span class="string"><span class="delimiter">'</span><span class="content">isEditing</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>);
  }
});</pre></td>
</tr></tbody></table>
</div>
<p>Any of the templates discussed above will produce an HTML element like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">#</span><span class="delimiter">"</span></span> <span class="attribute-name">data-ember-action</span>=<span class="string"><span class="delimiter">"</span><span class="content">3</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>Edit<span class="tag">&lt;/a&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>Ember will delegate the event you specified to your target view's handler based upon the internally assigned <code>data-ember-action</code> id.</p>
<h3 id="toc_building-a-view-hierarchy">Building a View Hierarchy</h3>
<p>So far, we've discussed writing templates for a single view. However, as your application grows, you will often want to create a hierarchy of views to encapsulate different areas on the page. Each view is responsible for handling events and maintaining the properties needed to display it.</p>
<h3 id="toc_view">{{view}}</h3>
<p>To add a child view to a parent, use the <code>{{view}}</code> helper, which takes a path to a view class.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="comment">// Define parent view</span>
App.UserView = Ember.View.extend({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">user</span><span class="delimiter">'</span></span>,
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Albert</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Hofmann</span><span class="delimiter">"</span></span>
});
<span class="comment">// Define child view</span>
App.InfoView = Ember.View.extend({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">info</span><span class="delimiter">'</span></span>,
  <span class="key">posts</span>: <span class="integer">25</span>,
  <span class="key">hobbies</span>: <span class="string"><span class="delimiter">"</span><span class="content">Riding bicycles</span><span class="delimiter">"</span></span>
});</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre>User: {{firstName}} {{lastName}}
{{view App.InfoView}}</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;b&gt;</span>Posts:<span class="tag">&lt;/b&gt;</span> {{posts}}
<span class="tag">&lt;br&gt;</span>
<span class="tag">&lt;b&gt;</span>Hobbies:<span class="tag">&lt;/b&gt;</span> {{hobbies}}</pre></td>
</tr></tbody></table>
</div>
<p>If we were to create an instance of <code>App.UserView</code> and render it, we would get
a DOM representation like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>User: Albert Hofmann
<span class="tag">&lt;div&gt;</span>
  <span class="tag">&lt;b&gt;</span>Posts:<span class="tag">&lt;/b&gt;</span> 25
  <span class="tag">&lt;br&gt;</span>
  <span class="tag">&lt;b&gt;</span>Hobbies:<span class="tag">&lt;/b&gt;</span> Riding bicycles
<span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div><h4 id="toc_relative-paths">Relative Paths</h4>
<p>Instead of specifying an absolute path, you can also specify which view class
to use relative to the parent view. For example, we could nest the above view
hierarchy like this:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>App.UserView = Ember.View.extend({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">user</span><span class="delimiter">'</span></span>,
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Albert</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Hofmann</span><span class="delimiter">"</span></span>,
  <span class="key">infoView</span>: Ember.View.extend({
    <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">info</span><span class="delimiter">'</span></span>,
    <span class="key">posts</span>: <span class="integer">25</span>,
    <span class="key">hobbies</span>: <span class="string"><span class="delimiter">"</span><span class="content">Riding bicycles</span><span class="delimiter">"</span></span>
  })
});</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre>User: {{firstName}} {{lastName}}
{{view infoView}}</pre></td>
</tr></tbody></table>
</div>
<p>When nesting a view class like this, make sure to use a lowercase
letter, as Ember will interpret a property with a capital letter as a
global property.</p>
<h3 id="toc_setting-child-view-templates">Setting Child View Templates</h3>
<p>If you'd like to specify the template your child views use inline in
the main template, you can use the block form of the <code>{{view}}</code> helper.
We might rewrite the above example like this:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre>App.UserView = Ember.View.extend({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">user</span><span class="delimiter">'</span></span>,
  <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Albert</span><span class="delimiter">"</span></span>,
  <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Hofmann</span><span class="delimiter">"</span></span>
});
App.InfoView = Ember.View.extend({
  <span class="key">posts</span>: <span class="integer">25</span>,
  <span class="key">hobbies</span>: <span class="string"><span class="delimiter">"</span><span class="content">Riding bicycles</span><span class="delimiter">"</span></span>
});</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>User: {{firstName}} {{lastName}}
{{#view App.InfoView}}
  <span class="tag">&lt;b&gt;</span>Posts:<span class="tag">&lt;/b&gt;</span> {{posts}}
  <span class="tag">&lt;br&gt;</span>
  <span class="tag">&lt;b&gt;</span>Hobbies:<span class="tag">&lt;/b&gt;</span> {{hobbies}}
{{/view}}</pre></td>
</tr></tbody></table>
</div>
<p>When you do this, it may be helpful to think of it as assigning views to
portions of the page. This allows you to encapsulate event handling for just
that part of the page.</p>
<h3 id="toc_setting-up-bindings">Setting Up Bindings</h3>
<p>So far in our examples, we have been setting static values directly on the
views. But to best implement an MVC architecture, we should actually be binding
the properties of our views to the controller layer.</p>

<p>Let's set up a controller to represent our user data:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre>App.userController = Ember.Object.create({
  <span class="key">content</span>: Ember.Object.create({
    <span class="key">firstName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Albert</span><span class="delimiter">"</span></span>,
    <span class="key">lastName</span>: <span class="string"><span class="delimiter">"</span><span class="content">Hofmann</span><span class="delimiter">"</span></span>,
    <span class="key">posts</span>: <span class="integer">25</span>,
    <span class="key">hobbies</span>: <span class="string"><span class="delimiter">"</span><span class="content">Riding bicycles</span><span class="delimiter">"</span></span>
  })
});</pre></td>
</tr></tbody></table>
</div>
<p>Now let's update <code>App.UserView</code> to bind to <code>App.userController</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>App.UserView = Ember.View.extend({
  <span class="key">templateName</span>: <span class="string"><span class="delimiter">'</span><span class="content">user</span><span class="delimiter">'</span></span>,
  <span class="key">firstNameBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">App.userController.content.firstName</span><span class="delimiter">'</span></span>,
  <span class="key">lastNameBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">App.userController.content.lastName</span><span class="delimiter">'</span></span>
});</pre></td>
</tr></tbody></table>
</div>
<p>When we only have a few bindings to configure, like with <code>App.UserView</code>, it is
sometimes useful to be able to declare those bindings in the template. You can
do that by passing additional arguments to the <code>{{#view}}</code> helper. If all
you're doing is configuring bindings, this often allows you to bypass having to
create a new subclass.</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>User: {{firstName}} {{lastName}}
{{#view App.UserView postsBinding="App.userController.content.posts"
        hobbiesBinding="App.userController.content.hobbies"}}
  <span class="tag">&lt;b&gt;</span>Posts:<span class="tag">&lt;/b&gt;</span> {{posts}}
  <span class="tag">&lt;br&gt;</span>
  <span class="tag">&lt;b&gt;</span>Hobbies:<span class="tag">&lt;/b&gt;</span> {{hobbies}}
{{/view}}</pre></td>
</tr></tbody></table>
</div>
<p>NOTE: You can actually pass <strong>any</strong> property as a parameter to {{view}}, not
just bindings. However, if you are doing anything other than setting up
bindings, it is generally a good idea to create a new subclass.</p>
<h3 id="toc_modifying-a-view-s-html">Modifying a View's HTML</h3>
<p>When you append a view, it creates a new HTML element that holds its content.
If your view has any child views, they will also be displayed as child nodes
of the parent's HTML element.</p>

<p>By default, new instances of <code>Ember.View</code> create a <code>&lt;div&gt;</code> element. You can
override this by passing a <code>tagName</code> parameter:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>{{view App.InfoView tagName="span"}}</pre></td>
</tr></tbody></table>
</div>
<p>You can also assign an ID attribute to the view's HTML element by passing an <code>id</code> parameter:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>{{view App.InfoView id="info-view"}}</pre></td>
</tr></tbody></table>
</div>
<p>This makes it easy to style using CSS ID selectors:</p>
<div class="highlight css"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="comment">/** Give the view a red background. **/</span>
  <span class="constant">#info-view</span> {
    <span class="key">background-color</span>: <span class="value">red</span>;
  }</pre></td>
</tr></tbody></table>
</div>
<p>You can assign class names similarly:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>{{view App.InfoView class="info urgent"}}</pre></td>
</tr></tbody></table>
</div>
<p>You can bind class names to a property of the view by using <code>classBinding</code> instead of <code>class</code>. The same behavior as described in <code>bindAttr</code> applies:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>App.AlertView = Ember.View.extend({
  <span class="key">priority</span>: <span class="string"><span class="delimiter">"</span><span class="content">p4</span><span class="delimiter">"</span></span>,
  <span class="key">isUrgent</span>: <span class="predefined-constant">true</span>
});</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>{{view App.AlertView classBinding="isUrgent priority"}}</pre></td>
</tr></tbody></table>
</div>
<p>This yields a view wrapper that will look something like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">sc420</span><span class="delimiter">"</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">sc-view is-urgent p4</span><span class="delimiter">"</span></span><span class="tag">&gt;</span><span class="tag">&lt;/div&gt;</span></pre></td>
</tr></tbody></table>
</div><h3 id="toc_displaying-a-list-of-items">Displaying a List of Items</h3>
<p>If you need to enumerate over a list of objects, use Handlebar's <code>{{#each}}</code> helper:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>App.PeopleView = Ember.View.extend({
  <span class="key">people</span>: [ { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Yehuda</span><span class="delimiter">'</span></span> },
            { <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Tom</span><span class="delimiter">'</span></span> } ]
});</pre></td>
</tr></tbody></table>
</div><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ul&gt;</span>
  {{#each people}}
    <span class="tag">&lt;li&gt;</span>Hello, {{name}}!<span class="tag">&lt;/li&gt;</span>
  {{/each}}
<span class="tag">&lt;/ul&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>This will print a list like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="tag">&lt;ul&gt;</span>
  <span class="tag">&lt;li&gt;</span>Hello, Yehuda!<span class="tag">&lt;/li&gt;</span>
  <span class="tag">&lt;li&gt;</span>Hello, Tom!<span class="tag">&lt;/li&gt;</span>
<span class="tag">&lt;/ul&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>If you want to create a view for every item in a list, you can bind a property of the view to
the current context. For example, this example creates a view for every item in a list and sets
the <code>content</code> property to that item:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>{{#each App.peopleController}}
  {{#view App.PersonView contentBinding="this"}}
    {{content.firstName}} {{content.lastName}}
  {{/view}}
{{/each}}</pre></td>
</tr></tbody></table>
</div><h3 id="toc_writing-custom-helpers">Writing Custom Helpers</h3>
<p>Sometimes, you may use the same HTML in your application multiple times. In those case, you can register a custom helper that can be invoked from any Handlebars template.</p>

<p>For example, imagine you are frequently wrapping certain values in a <code>&lt;span&gt;</code> tag with a custom class. You can register a helper from your JavaScript like this:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>Handlebars.registerHelper(<span class="string"><span class="delimiter">'</span><span class="content">highlight</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(property) {
  <span class="keyword">var</span> value = Ember.getPath(<span class="local-variable">this</span>, property);
  <span class="keyword">return</span> <span class="keyword">new</span> Handlebars.SafeString(<span class="string"><span class="delimiter">'</span><span class="content">&lt;span class="highlight"&gt;</span><span class="delimiter">'</span></span>+value+<span class="string"><span class="delimiter">'</span><span class="content">&lt;/span&gt;</span><span class="delimiter">'</span></span>);
});</pre></td>
</tr></tbody></table>
</div>
<p>If you return HTML from a helper, and you don't want it to be escaped,
make sure to return a new <code>SafeString</code>.</p>

<p>Anywhere in your Handlebars templates, you can now invoke this helper:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre>{{highlight name}}</pre></td>
</tr></tbody></table>
</div>
<p>and it will output the following:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">highlight</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>Peter<span class="tag">&lt;/span&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>NOTE: Parameters to helper functions are passed as names, not their current values. This allows you to optionally set up observers on the values. To get the current value of the parameter, use Ember.getPath, as shown above.</p>
<h3 id="toc_included-views">Included Views</h3>
<p>Ember comes pre-packaged with a set of views for building a few basic controls like text inputs, check boxes, and select lists.</p>

<p>They are:</p>
<h4 id="toc_ember-checkbox">Ember.Checkbox</h4><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>    <span class="tag">&lt;label&gt;</span>
      {{view Ember.Checkbox checkedBinding="content.isDone"}}
      {{content.title}}
    <span class="tag">&lt;/label&gt;</span></pre></td>
</tr></tbody></table>
</div><h4 id="toc_ember-textfield">Ember.TextField</h4><div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>    App.myText = Ember.TextField.extend({
        <span class="key">formBlurredBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">App.adminController.formBlurred</span><span class="delimiter">'</span></span>,
        <span class="function">change</span>: <span class="keyword">function</span>(evt) {
          <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">formBlurred</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>);
        }
      });</pre></td>
</tr></tbody></table>
</div><h4 id="toc_ember-select">Ember.Select</h4><div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>    {{view Ember.Select viewName="select"
                          contentBinding="App.peopleController"
                          optionLabelPath="content.fullName"
                          optionValuePath="content.id"
                          prompt="Pick a person:"
                          selectionBinding="App.selectedPersonController.person"}}</pre></td>
</tr></tbody></table>
</div><h4 id="toc_ember-textarea">Ember.TextArea</h4><div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>    <span class="keyword">var</span> textArea = Ember.TextArea.create({
            <span class="key">valueBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">TestObject.value</span><span class="delimiter">'</span></span>
            });</pre></td>
</tr></tbody></table>
</div>
<p>If you would like to add one of these controls to your view, you are encouraged to extend from these controls.</p>

<p>Events do not bubble from a subview to a parent view so extending these views is the only way to capture those events.</p>

<p>Example:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>App.myText = Ember.TextField.extend({
    <span class="key">formBlurredBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">App.adminController.formBlurred</span><span class="delimiter">'</span></span>,
    <span class="function">change</span>: <span class="keyword">function</span>(evt) {
      <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">formBlurred</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>);
    }
  });</pre></td>
</tr></tbody></table>
</div>
<p>You can then use this view as a sub view and capture the events.  In the following example, a change to the Name input would blurr the form and cause the save button to appear.</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="tag">&lt;script</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">formDetail</span><span class="delimiter">"</span></span> <span class="attribute-name">data-template-name</span>=<span class="string"><span class="delimiter">'</span><span class="content">formDetail</span><span class="delimiter">'</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">"</span><span class="content">text/x-handlebars</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="inline">    <span class="tag">&lt;form&gt;</span>
        <span class="tag">&lt;fieldset&gt;</span>
           <span class="tag">&lt;legend&gt;</span>Info:<span class="tag">&lt;/legend&gt;</span>                 
                   {{view App.myText name="Name" id="Name"  valueBinding="myObj.Name"}} 
                   <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">"</span><span class="content">Name</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>Name<span class="tag">&lt;/label&gt;</span><span class="tag">&lt;br</span><span class="tag">/&gt;</span>
                   {{#if formBlurred}}
                    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">#</span><span class="delimiter">"</span></span> <span class="error">{</span><span class="error">{</span><span class="attribute-name">action</span> <span class="error">"</span><span class="attribute-name">syncData</span><span class="error">"</span> <span class="attribute-name">on</span>=<span class="string"><span class="delimiter">"</span><span class="content">click</span><span class="delimiter">"</span></span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>Save<span class="tag">&lt;/a&gt;</span>
                    {{/if}}
        <span class="tag">&lt;/fieldset&gt;</span>
    <span class="tag">&lt;/form&gt;</span></span>
<span class="tag">&lt;/script&gt;</span></pre></td>
</tr></tbody></table>
</div>
</div>
<div class="chapter" id="views">
  <h2 id="toc_views-in-depth">Views In-Depth</h2>
<p>Now that you're familiar with using Handlebars, let's go more in-depth on
how to both handle events, and customize views to your needs.</p>
<h3 id="toc_handling-events">Handling Events</h3>
<p>Instead of having to register event listeners on elements you'd like to
respond to, simply implement the name of the event you want to respond to
as a method on your view.</p>

<p>For example, imagine we have a template like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{#view App.ClickableView}}
This is a clickable area!
{{/view}}</pre></td>
</tr></tbody></table>
</div>
<p>Let's implement App.ClickableView such that when it is
clicked, an alert is displayed:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>App.ClickableView = Ember.View.extend({
  <span class="function">click</span>: <span class="keyword">function</span>(evt) {
    alert(<span class="string"><span class="delimiter">"</span><span class="content">ClickableView was clicked!</span><span class="delimiter">"</span></span>);
  }
});</pre></td>
</tr></tbody></table>
</div>
<p>Events bubble up from the target view to each parent view in
succession, until the root viewth of these values are read-only. If you want to manually manage views in JavaScript (instead of creating them
using the {{view}} helper in Handlebars), see the Ember.ContainerView documentation below.</p>
<h3 id="toc_manually-managed-views-with-ember-containerview">Manually Managed Views with Ember.ContainerView</h3>
<p>Usually, views create their child views by using the <code>{{view}}</code> helper. Sometimes it is useful to manually manage a view's
child views. If you create an instance of <code>Ember.ContainerView</code>, the <code>childViews</code> array is editable. Views that you add
are rendered to the page, and views that you remove are removed from the DOM.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> container = Ember.ContainerView.create();
container.append();
<span class="keyword">var</span> coolView = App.CoolView.create(),
    childViews = container.get(<span class="string"><span class="delimiter">'</span><span class="content">childViews</span><span class="delimiter">'</span></span>);
childViews.pushObject(coolView);</pre></td>
</tr></tbody></table>
</div>
<p>As a shorthand, you can specify the child views as properties and the child views as a list of keys. When the
container view is created, these views will be instantiated and added to the child views array:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> container = Ember.ContainerView.create({
  <span class="key">childViews</span>: [<span class="string"><span class="delimiter">'</span><span class="content">firstView</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">secondView</span><span class="delimiter">'</span></span>],
  <span class="key">firstView</span>: App.FirstView,
  <span class="key">secondView</span>: App.SecondView
});</pre></td>
</tr></tbody></table>
</div><h3 id="toc_render-pipeline">Render Pipeline</h3>
<p>Before your views are turned into DOM elements, they first exist as a string representation. As views render, they turn
each of their child views into strings and concatenate them together.</p>

<p>If you'd like to use something other than Handlebars, you can override a view's <code>render</code> method to generate a custom
string of HTML.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>App.CoolView = Ember.View.create({
  <span class="function">render</span>: <span class="keyword">function</span>(buffer) {
    buffer.push(<span class="string"><span class="delimiter">"</span><span class="content">&lt;b&gt;This view is so cool!&lt;/b&gt;</span><span class="delimiter">"</span></span>);
  }
});</pre></td>
</tr></tbody></table>
</div>
<p>This makes it easy to support template engines other than Handlebars; though do note that if you override rendering,
values will not update automatically. Any updates will be your responsibility.</p>
<h3 id="toc_customizing-the-html-element">Customizing the HTML Element</h3>
<p>A view is represented by a single DOM element on the page. You can change what kind of element is created by
changing the <code>tagName</code> property.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>App.MyView = Ember.View.extend({
  <span class="key">tagName</span>: <span class="string"><span class="delimiter">'</span><span class="content">span</span><span class="delimiter">'</span></span>
});</pre></td>
</tr></tbody></table>
</div>
<p>You can also specify which class names are applied to the view by setting its <code>classNames</code> property to an array of strings:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>App.MyView = Ember.View.extend({
  <span class="key">classNames</span>: [<span class="string"><span class="delimiter">'</span><span class="content">my-view</span><span class="delimiter">'</span></span>]
});</pre></td>
</tr></tbody></table>
</div>
<p>If you want class names to be determined by the state of properties on the view, you can use class name bindings. If you bind to
a Boolean property, the class name will be added or removed depending on the value:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>App.MyView = Ember.View.extend({
  <span class="key">classNameBindings</span>: [<span class="string"><span class="delimiter">'</span><span class="content">isUrgent</span><span class="delimiter">'</span></span>],
  <span class="key">isUrgent</span>: <span class="predefined-constant">true</span>
});</pre></td>
</tr></tbody></table>
</div>
<p>This would render a view like this:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">ember-view is-urgent</span><span class="delimiter">"</span></span><span class="tag">&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>If isUrgent is changed to false, then the <code>is-urgent</code> class name will be removed.</p>

<p>By default, the name of the Boolean property is dasherized. You can customize the class name
applied by delimiting it with a colon:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>App.MyView = Ember.View.extend({
  <span class="key">classNameBindings</span>: [<span class="string"><span class="delimiter">'</span><span class="content">isUrgent:urgent</span><span class="delimiter">'</span></span>],
  <span class="key">isUrgent</span>: <span class="predefined-constant">true</span>
});</pre></td>
</tr></tbody></table>
</div>
<p>This would render this HTML:</p>
<div class="highlight html"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre></pre></td>
  <td class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">"</span><span class="content">ember-view urgent</span><span class="delimiter">"</span></span><span class="tag">&gt;</span></pre></td>
</tr></tbody></table>
</div>
<p>If the bound value is a string, that value will be added as a class name without
modification.</p>
<h3 id="toc_attribute-bindings-on-a-view">Attribute Bindings on a View</h3>
<p>You can bind attributes to the DOM element that represents a view by using <code>attributeBindings</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>App.MyView = Ember.View.extend({
  <span class="key">tagName</span>: <span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>,
  <span class="key">attributeBindings</span>: [<span class="string"><span class="delimiter">'</span><span class="content">href</span><span class="delimiter">'</span></span>],
  <span class="key">href</span>: <span class="string"><span class="delimiter">"</span><span class="content">http://emberjs.com</span><span class="delimiter">"</span></span>
});</pre></td>
</tr></tbody></table>
</div>
</div>
<div class="chapter" id="enumerables">
  <h2 id="toc_the-ember-enumerable-api">The Ember Enumerable API</h2><h3 id="toc_what-are-enumerables">What Are Enumerables?</h3>
<p>In Ember, an Enumerable is any object that contains a number of child objects, and which allows you to work with those children using the Enumerable interface. The most basic Enumerable is the built-in JavaScript Array.</p>

<p>For instance, all Enumerables support the standard <code>forEach</code> method:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>[<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>].forEach(<span class="keyword">function</span>(item) {
  console.log(item);
});</pre></td>
</tr></tbody></table>
</div>
<p>In general, Enumerable methods, like <code>forEach</code>, take an optional second parameter, which will become the value of <code>this</code> in the callback function:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> array = [<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>];
array.forEach(<span class="keyword">function</span>(item) {
  console.log(item, <span class="local-variable">this</span>.indexOf(item));
}, array)</pre></td>
</tr></tbody></table>
</div>
<p>Among other reasons, you will find this useful when using another Enumerable method as a callback to <code>forEach</code>:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> array = [<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>];
array.forEach(array.removeObject, array);</pre></td>
</tr></tbody></table>
</div>
<p>NOTE: This second parameter helps work around a limitation of JavaScript which sets the value of <code>this</code> to <code>window</code> in methods used this way.</p>
<h3 id="toc_enumerables-in-ember">Enumerables in Ember</h3>
<p>In general, Ember objects that represent lists implement the Enumerable interface. Some examples:</p>

<ul>
<li><em>Array</em>: Ember extends the native JavaScript Array with the Enumerable interface.</li>
<li><em>ArrayProxy</em>: A construct that wraps a native Array and adds additional functionality for the view layer.</li>
<li><em>Set</em>: An object that can quickly answer whether it includes an object.</li>
</ul>
<h3 id="toc_the-enumerable-interface">The Enumerable Interface</h3><h4 id="toc_parameters">Parameters</h4>
<p>The callbacks to Enumerable methods take three arguments:</p>

<ul>
<li><em>item</em>: the item for the current iteration.</li>
<li><em>index</em>: an Integer, counting up from 0.</li>
<li><em>self</em>: the Enumerable itself.</li>
</ul>
<h4 id="toc_enumeration">Enumeration</h4>
<p>To enumerate all the values of an enumerable object, use the <code>forEach</code> method:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
</pre></td>
  <td class="code"><pre>enumerable.forEach(<span class="keyword">function</span>(item, index, self) {
  console.log(item);
});</pre></td>
</tr></tbody></table>
</div>
<p>To invoke some method on each element of an enumerable object, use the <code>invoke</code> method:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="function">sayHello</span>: <span class="keyword">function</span>() {
    console.log(<span class="string"><span class="delimiter">"</span><span class="content">Hello from </span><span class="delimiter">"</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>));
  }
});
<span class="keyword">var</span> people = [
  Person.create({ <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Juan</span><span class="delimiter">"</span></span> }),
  Person.create({ <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Charles</span><span class="delimiter">"</span></span> }),
  Person.create({ <span class="key">name</span>: <span class="string"><span class="delimiter">"</span><span class="content">Majd</span><span class="delimiter">"</span></span> })
]
people.invoke(<span class="string"><span class="delimiter">'</span><span class="content">sayHello</span><span class="delimiter">'</span></span>);
<span class="comment">// Hello from Juan</span>
<span class="comment">// Hello from Charles</span>
<span class="comment">// Hello from Majd</span></pre></td>
</tr></tbody></table>
</div><h4 id="toc_first-and-last">First and Last</h4>
<p>You can get the first or last object from an Enumerable by getting <code>firstObject</code> or <code>lastObject</code>.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre>[<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>].get(<span class="string"><span class="delimiter">'</span><span class="content">firstObject</span><span class="delimiter">'</span></span>) <span class="comment">// 1</span>
[<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>].get(<span class="string"><span class="delimiter">'</span><span class="content">lastObject</span><span class="delimiter">'</span></span>)  <span class="comment">// 3</span></pre></td>
</tr></tbody></table>
</div><h4 id="toc_converting-to-array">Converting to Array</h4>
<p>This one is simple. To convert an Enumerable into an Array, simply call its <code>toArray</code> method.</p>
<h4 id="toc_transforming">Transforming</h4>
<p>You can transform an Enumerable into a derived Array by using the <code>map</code> method:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>[<span class="string"><span class="delimiter">'</span><span class="content">Goodbye</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">cruel</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">world</span><span class="delimiter">'</span></span>].map(<span class="keyword">function</span>(item, index, self) {
  <span class="keyword">return</span> item + <span class="string"><span class="delimiter">"</span><span class="content">!</span><span class="delimiter">"</span></span>;
});
<span class="comment">// returns ["Goodbye!", "cruel!", "world!"]</span></pre></td>
</tr></tbody></table>
</div><h4 id="toc_setting-and-getting-on-each-object">Setting and Getting on Each Object</h4>
<p>A very common use of <code>forEach</code> and <code>map</code> is to get (or set) a property on each element. You can use the <code>getEach</code> and <code>setEach</code> methods to accomplish these goals.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [Ember.Object.create(), Ember.Object.create()];
<span class="comment">// we now have an Array containing two Ember.Objects</span>
arr.setEach(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">unknown</span><span class="delimiter">'</span></span>);
arr.getEach(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>) <span class="comment">// ['unknown', 'unknown']</span></pre></td>
</tr></tbody></table>
</div><h4 id="toc_filtering">Filtering</h4>
<p>Another common task to perform on an Enumerable is to take the Enumerable as input, and return an Array after filtering it based on some criteria.</p>

<p>For arbitrary filtering, use the (you guessed it) <code>filter</code> method. The filter method expects the callback to return <code>true</code> if Ember should include it in the final Array, and <code>false</code> or <code>undefined</code> if Ember should not.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>,<span class="integer">4</span>,<span class="integer">5</span>];
arr.filter(<span class="keyword">function</span>(item, index, self) {
  <span class="keyword">if</span> (item &lt; <span class="integer">4</span>) { <span class="keyword">return</span> <span class="predefined-constant">true</span>; }
})
<span class="comment">// returns [1,2,3]</span></pre></td>
</tr></tbody></table>
</div>
<p>When working with a collection of Ember objects, you will often want to filter a set of objects based upon the value of some property. The <code>filterProperty</code> method provides a shortcut.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>Todo = Ember.Object.extend({
  <span class="key">title</span>: <span class="predefined-constant">null</span>,
  <span class="key">isDone</span>: <span class="predefined-constant">false</span>
});
todos = [
  Todo.create({ <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Write code</span><span class="delimiter">'</span></span>, <span class="key">isDone</span>: <span class="predefined-constant">true</span> }),
  Todo.create({ <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Go to sleep</span><span class="delimiter">'</span></span> })
];
todos.filterProperty(<span class="string"><span class="delimiter">'</span><span class="content">isDone</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>);
<span class="comment">// returns an Array containing just the first item</span></pre></td>
</tr></tbody></table>
</div>
<p>If you want to return just the first matched value, rather than an Array containing all of the matched values, you can use <code>find</code> and <code>findProperty</code>, which work just like <code>filter</code> and <code>filterProperty</code>, but return only one item.</p>
<h4 id="toc_aggregate-information-all-or-any">Aggregate Information (All or Any)</h4>
<p>If you want to find out whether every item in an Enumerable matches some condition, you can use the <code>every</code> method:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre>Person = Ember.Object.extend({
  <span class="key">name</span>: <span class="predefined-constant">null</span>,
  <span class="key">isHappy</span>: <span class="predefined-constant">false</span>
});
<span class="keyword">var</span> people = [
  Person.create({ <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Yehuda</span><span class="delimiter">'</span></span>, <span class="key">isHappy</span>: <span class="predefined-constant">true</span> }),
  Person.create({ <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Majd</span><span class="delimiter">'</span></span>, <span class="key">isHappy</span>: <span class="predefined-constant">false</span> })
];
people.every(<span class="keyword">function</span>(person, index, self) {
  <span class="keyword">if</span>(person.get(<span class="string"><span class="delimiter">'</span><span class="content">isHappy</span><span class="delimiter">'</span></span>)) { <span class="keyword">return</span> <span class="predefined-constant">true</span>; }
});
<span class="comment">// returns false</span></pre></td>
</tr></tbody></table>
</div>
<p>If you want to find out whether at least one item in an Enumerable matches some conditions, you can use the <code>some</code> method:</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>people.some(<span class="keyword">function</span>(person, index, self) {
  <span class="keyword">if</span>(person.get(<span class="string"><span class="delimiter">'</span><span class="content">isHappy</span><span class="delimiter">'</span></span>)) { <span class="keyword">return</span> <span class="predefined-constant">true</span>; }
});
<span class="comment">// returns true</span></pre></td>
</tr></tbody></table>
</div>
<p>Just like the filtering methods, the <code>every</code> and <code>some</code> methods have analogous <code>everyProperty</code> and <code>someProperty</code> methods.</p>
<div class="highlight javascript"><div class="ribbon"></div><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == &#39;&#39;) ? &#39;none&#39; : &#39;&#39; }"><pre>1
2
</pre></td>
  <td class="code"><pre>people.everyProperty(<span class="string"><span class="delimiter">'</span><span class="content">isHappy</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>) <span class="comment">// false</span>
people.someProperty(<span class="string"><span class="delimiter">'</span><span class="content">isHappy</span><span class="delimiter">'</span></span>, <span class="predefined-constant">true</span>)  <span class="comment">// true</span></pre></td>
</tr></tbody></table>
</div>
</div>

      </div>
    </div>

    <div id="footer">
      <div class="info">
        <div class="links"><a href="http://twitter.com/emberjs">Twitter</a> â€¢ <a href="https://github.com/emberjs/ember.js">GitHub</a></div>
        <div class="copyright">Copyright 2012 <a href="http://tilde.io/">Tilde Inc.</a><a></a></div><a>
        </a><div class="credit"><a>Design by </a><a href="http://www.heropixel.com/">HeroPixel</a></div>
      </div>
    </div>
  

<script src="ember-latest.min.js" type="text/javascript" charset="utf-8" async defer></script>
</body></html>